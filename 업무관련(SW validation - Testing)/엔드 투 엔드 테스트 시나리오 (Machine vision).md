> [!caution] 
> #### 이 문서는 비전 기반 반도체 후공정 검사장비 SW 업데이트 엔드투엔드 테스트 시나리오입니다.


>[!Note] **개요**
> 본 문서는 비전 시스템을 이용한 반도체 후공정 검사장비의 소프트웨어 업데이트 후 전체 시스템의 정상 동작을 검증하기 위한 엔드투엔드(End-to-End) 테스트 시나리오를 제시합니다. 이 테스트는 실제 생산 환경과 유사한 조건에서 전체 워크플로우를 검증하는 것을 목표로 합니다.
## 시나리오 A: 시스템 업데이트 및 초기화 검증

### 목적
- SW 업데이트 과정의 안정성 및 기존 설정/데이터의 보존 여부 검증

### 전제 조건
- 업데이트 전 시스템 상태 백업
- 테스트용 골든 디바이스 및 레시피
- 시스템 사양 및 호환성 확인

### 테스트 단계
1. **백업 검증**
   - 기존 레시피 및 설정 데이터 백업
   - 중요 로그 및 검사 이력 백업

2. **소프트웨어 업데이트**
   - 업데이트 프로그램 실행
   - 업데이트 진행 모니터링 및 로그 기록
   - 업데이트 완료 후 시스템 재시작

3. **시스템 초기화 검증**
   - 시스템 부팅 및 로그인
   - 기본 UI 및 메뉴 접근성 확인
   - 하드웨어 연결 상태 확인 (카메라, 조명, 스테이지 등)

### 예상 결과
- 모든 설정 데이터가 보존되거나 적절히 마이그레이션됨
- 시스템이 오류 없이 부팅되고 정상 작동함
- 모든 하드웨어 구성요소가 인식되고 연결됨

### 성공 기준
- 기존 설정이 유지되며 시스템 오류 로그 없음
- 모든 하드웨어 컴포넌트 통신 성공
- 기본 UI 및 기능 접근 가능

## 시나리오 B: 레시피 로드 및 검사 준비

### 목적
- 기존 레시피의 호환성 및 검사 준비 과정 검증

### 전제 조건
- 이전 버전에서 생성된 다양한 유형의 레시피
- 테스트용 골든 샘플

### 테스트 단계
1. **레시피 로드**
   - 여러 유형의 기존 레시피 로드 (BGA, Land, Component, Die 등)
   - 레시피 파라미터 및 설정 확인
   - 레시피 수정 및 저장 기능 테스트

2. **Illumination 설정**
   - 각 채널별 카메라 설정 확인 및 조정
   - 저장된 조명 프로파일 로드 테스트
   - 영상 밝기/선명도 조절 및 검증

3. **작업 준비**
   - 검사 항목 및 파라미터 확인
   - 스테이지 이동 및 위치 조정
   - 레시피 최종 확인 및 호스트 전송

### 예상 결과
- 모든 레시피가 오류 없이 로드되고 설정이 정확히 표시됨
- 조명 설정이 정확히 적용되고 영상 품질이 적절함
- 모든 준비 과정이 이전 버전과 동일하게 작동함

### 성공 기준
- 100% 레시피 호환성
- 이전 버전과 동일한 조명 설정에서 동일한 영상 품질
- 호스트 통신 성공

## 시나리오 C: 패키지 검사 실행 및 결과 검증

### 목적
- 실제 검사 프로세스의 정확성 및 일관성 검증

### 전제 조건
- 검증된 골든 샘플 세트 (양품 및 알려진 불량)
- 이전 버전에서의 동일 샘플 검사 결과 데이터

### 테스트 단계
1. **단일 샘플 검사**
   - 골든 샘플 로드
   - 2D/3D 이미지 획득
   - 각 검사 항목별 자동 검사 실행
   - 결과 확인 및 기록

2. **다양한 샘플 유형 검사**
   - BGA 패키지 검사 (2D/3D Ball, Ball missing, Ball pixel quality)
   - Land 패키지 검사 (2D/3D Land)
   - Component 검사 (2D/3D component)
   - Die 검사 (2D Die)

3. **오류 처리 및 예외 상황 검사**
   - 경계값 케이스 테스트 (스펙 경계값 근처의 샘플)
   - 알려진 불량 샘플 테스트
   - 인위적 오류 상황 테스트 (조명 이상, 위치 불량 등)

### 예상 결과
- 모든 검사 항목이 정확히 수행됨
- 패키지 유형별 특화 검사가 정상 작동함
- 오류 상황이 적절히 감지되고 처리됨

### 성공 기준
- 동일 샘플에 대해 이전 버전과 ±5% 이내의 측정값 차이
- 불량 샘플 검출률 100% 유지
- 예외 상황에 대한 적절한 오류 메시지 및 처리

## 시나리오 D: 배치 및 인라인 모드 검증

### 목적
- 실제 생산 환경과 유사한 연속 작업 모드 검증

### 전제 조건
- 준비된 배치 샘플 세트
- 호스트 시스템 연결 구성
- 테스트용 로트 정보

### 테스트 단계
1. **배치 모드 검사**
   - 다중 이미지 로드
   - 배치 검사 실행
   - 결과 집계 및 분석
   - 처리 시간 및 성능 측정

2. **인라인 모드 설정**
   - 호스트 연결 확인
   - 로트 정보 설정
   - 인라인 모드 활성화

3. **인라인 검사 시뮬레이션**
   - 연속 샘플 투입 시뮬레이션
   - 자동 검사 프로세스 모니터링
   - 결과 전송 및 피드백 확인
   - 비정상 종료 후 복구 테스트

### 예상 결과
- 배치 모드에서 모든 샘플이 정확히 처리됨
- 인라인 모드에서 호스트와의 통신이 안정적으로 유지됨
- 연속 작업에서 시스템 안정성이 유지됨

### 성공 기준
- 이전 버전 대비 동일 또는 향상된 처리 속도
- 100% 호스트 통신 안정성
- 24시간 연속 작업 후 메모리 누수 없음

## 시나리오 E: 고급 기능 및 성능 검증

### 목적
- 고급 검사 기능 및 전체 시스템 성능 검증

### 전제 조건
- 복잡한 패턴의 테스트 샘플
- 대용량 검사 데이터
- 성능 모니터링 도구

### 테스트 단계
1. **고급 검사 기능 검증**
   - Stitching 기능 검증 (대형 패키지)
   - Global Mask Maker 기능 검증 (Surface 검사)
   - Fiducial Mark 및 Pin Index Align 검증
   - 복잡한 Geometry 검증

2. **성능 및 안정성 테스트**
   - 고해상도 모드에서의 처리 성능
   - 장시간 연속 작업 안정성 (8시간 이상)
   - 메모리 사용량 및 누수 모니터링
   - CPU/GPU 부하 테스트

3. **데이터 관리 검증**
   - 검사 결과 저장 및 로드
   - 데이터 내보내기/가져오기 기능
   - 대용량 데이터 처리 성능
   - 데이터 백업 및 복구 기능

### 예상 결과
- 모든 고급 기능이 정확히 작동함
- 시스템이 장시간 안정적으로 작동함
- 데이터 관리 기능이 대용량 데이터를 효율적으로 처리함

### 성공 기준
- 고급 기능의 100% 작동률
- 이전 버전 대비 동일 또는 향상된 성능 지표
- 메모리 사용량 안정성 (지속적 증가 없음)
- 데이터 무결성 100% 유지

## 시나리오 F: 통합 검증 및 승인

### 목적
- 실제 생산 환경에 가까운 조건에서 전체 시스템 통합 검증

### 전제 조건
- 모든 개별 테스트 시나리오 통과
- 실제 생산 라인과 유사한 테스트 환경
- 품질 승인 담당자 참여

### 테스트 단계
1. **통합 워크플로우 검증**
   - 실제 생산 절차에 따른 전체 검사 프로세스 실행
   - 레시피 생성부터 결과 보고까지 전 과정 테스트
   - 다양한 사용자 역할별 기능 접근 테스트

2. **예외 상황 복구 검증**
   - 전원 차단 후 복구 테스트
   - 네트워크 중단 후 통신 복구 테스트
   - 시스템 리소스 고갈 시 동작 검증

3. **최종 승인 절차**
   - 테스트 결과 문서화
   - 이전 버전과의 상세 비교 분석
   - 필요시 추가 테스트 수행
   - 최종 승인 및 배포 결정

### 예상 결과
- 전체 워크플로우가 원활하게 작동함
- 모든 예외 상황에서 적절히 복구됨
- 테스트 결과가 승인 기준을 충족함

### 성공 기준
- 전체 시스템 통합 기능 100% 작동
- 모든 복구 테스트 성공
- 품질 승인 담당자의 최종 승인

## 테스트 결과 측정 지표

1. **검사 정확도**
   - 이전 버전 대비 측정값 일치도 (%)
   - 반복 측정 시 표준편차
   - 불량 검출률 및 오검출률

2. **성능 지표**
   - 샘플당 평균 처리 시간
   - 최대 처리 용량 (UPH)
   - 시스템 자원 사용률 (CPU, RAM, GPU)

3. **안정성 지표**
   - 평균 무중단 작동 시간 (MTBF)
   - 오류 발생 빈도
   - 데이터 무결성 유지율

4. **호환성 지표**
   - 레시피 호환성 비율
   - 하드웨어 호환성 확인
   - 호스트 시스템 통신 안정성

## 추가 고려사항

1. **테스트 환경 구성**
   - 테스트는 실제 생산 환경과 최대한 유사하게 구성
   - 다양한 하드웨어 구성에서 테스트 수행 (가능한 경우)
   - 실제 생산 데이터를 활용한 테스트 권장

2. **테스트 결과 문서화**
   - 모든 테스트 과정과 결과를 상세히 기록
   - 발견된 문제점과 해결 방안 문서화
   - 이전 버전과의 차이점 명확히 기록

3. **롤백 계획**
   - 심각한 문제 발생 시 이전 버전으로 롤백 절차 마련
   - 데이터 복구 및 시스템 복원 방안 준비
